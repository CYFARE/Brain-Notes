# Error Management Cheatsheet

## General Commands

### Prevent external drive from poweroff/spindown

```bash
while true; do sudo dd if=/dev/disk/by-uuid/72DACBBB7C1E2A6E of=/dev/null count=1 skip=$RANDOM && sleep 10 && clear; done
```

- Replace `72DACBBB7C1E2A6E` with drive letter

## Debian Specific Commands

### KVM Virt-Manager network 'default' is not active

1. Confirm if default network is active of not
2. If not active, start the default network

```bash
sudo virsh net-list --all
```

```bash
sudo virsh net-start default
```

3. Setup default network to autostart

```bash
sudo virsh net-autostart default
```

### User not in sudoers to issue 'sudo' command

This issue will usually occur in these common situations:

1. You have installed GNU/Linux OS and logged in as a user
2. You have created a new user and logged in as that user
3. Your administrator has provided you with a user and restricted what you may run with 'sudo' command
4. Your administrator does not want you to run 'sudo' or any elevated command

In all of the above sitations, there is one single solution! We add your user to sudoers file.

- Open the terminal and enter the SU session using the following command (you will require admin password for this to work):

```bash
su -
```

- You will be in root shell. You can confirm this by seeing: `root@` in your terminal
- Add your user to sudoers group using:

```bash
sudo usermod -aG sudo your_username
```

- Open sudoers file using `sudo nano /etc/sudoers` and we will add our user here. Don't worry if there is a message saying "it's ment for view-only etc..". Just add the following at the end of the file and save using CRRL+S

```bash
your_username ALL=(ALL: ALL) ALL
```

- Exit root shell by closing the current terminal. Open a new terminal and sudo should work for the user.

### APT timezone or cert mismatch error (temporary fix) solution

```bash
sudo apt-get -o Acquire::Check-Valid-Until=false -o Acquire::Check-Date=false update
```

### Screen tear solutions

1. Add the following line

```bash
i915.enable_psr=0
```

Inside:

```bash
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
```

After ***splash***

2. Install Compton compositor

```bash
sudo apt -y install compton
```

For XFCE:

```bash
xfconf-query -c xfwm4 -p /general/use_compositing -s false

rm -rf ~/.config/xfce4/ && sudo reboot
```

3. Goto compositor options of your ‘display settings’ and select ‘no compositor’ or any other option (IF you don't want any compositor!)
4. ONLY use if driver issues persist - disable nouveau modeset

```bash
nouveau.modeset=0
```

Inside the line after ***splash***

```bash
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
```

### Restart networking

```bash
sudo systemctl restart NetworkManager.service
```

### Name resolution failure solution

1. Try to restart dnsmasq service:  ```sudo service dnsmasq restart```

2. Create and add google dns in resolver: ```sudo touch /etc/resolv.conf``` and add ```nameserver 8.8.8.8``` inside it.

1. Restart resolv service: ```sudo systemctl restart systemd-resolved.service && sudo service systemd-resolved status```

### List network service running on specific port

```bash
sudo netstat -ltnp | grep -w ':8080'
```

### List service running on port

```bash
lsof -i :8080
```

### List running process by name

```bash
ps -fA | grep python
```

### Kill a process using process ID

```bash
kill 81211
```

### Kill all specific application name processes

```bash
kill -9 $(ps -A | grep python | awk '{print $1}')
```

### Kill all specific application name processes

```bash
kill -9 $(ps -A | grep python | awk '{print $1}')
```

### Virtualbox.xml Default

```xml
<?xml version="1.0"?>
<!--
** DO NOT EDIT THIS FILE.
** If you make changes to this file while any VirtualBox related application
** is running, your changes will be overwritten later, without taking effect.
** Use VBoxManage or the VirtualBox Manager GUI to make changes.
-->
<VirtualBox xmlns="http://www.virtualbox.org/" version="1.16-windows">
  <Global>
    <ExtraData>
      <ExtraDataItem name="GUI/DetailsPageBoxes" value="general,system,preview,display,storage,audio,network,usb,sharedFolders,description"/>
      <ExtraDataItem name="GUI/GroupDefinitions/" value="m=50"/>
      <ExtraDataItem name="GUI/LastItemSelected" value="m=ubuntu"/>
      <ExtraDataItem name="GUI/LastWindowPlacement" value="m=-4,m=-4,m=1032,m=762"/>
      <ExtraDataItem name="GUI/RecentFolderCD/D2AA650000000002" value="C:\Users\Username\VirtualBox VMs"/>
      <ExtraDataItem name="GUI/RecentFolderCD/D2AA650000000003" value="C:\Users\Username\VirtualBox VMs"/>
      <ExtraDataItem name="GUI/RecentListCD" value="ubuntu"/>
      <ExtraDataItem name="GUI/RecentVMs/01CFE44051F2A740" value="D2AA650000000002"/>
      <ExtraDataItem name="GUI/RecentVMs/01CFE4558D675980" value="D2AA650000000003"/>
    </ExtraData>
    <MachineRegistry>
      <MachineEntry uuid="{c95d88b0-8e9e-4f15-8e9a-fa7a95a986f0}" src="C:\Users\Username\VirtualBox VMs\ubuntu\ubuntu.vbox"/>
    </MachineRegistry>
    <NetserviceRegistry>
      <DHCPServers>
        <DHCPServer networkName="HostInterfaceNetworking-VirtualBox Host-Only Ethernet Adapter">
          <Config>
            <Property name="Enabled" value="1"/>
            <Property name="IPAddress" value="192.168.56.100"/>
            <Property name="NetworkMask" value="255.255.255.0"/>
            <Property name="lowerIP" value="192.168.56.101"/>
            <Property name="upperIP" value="192.168.56.254"/>
            <Property name="Enabled" value="1"/>
          </Config>
        </DHCPServer>
      </DHCPServers>
    </NetserviceRegistry>
    <SystemProperties defaultMachineFolder="C:\Users\Username\VirtualBox VMs" defaultHardDiskFormat="VDI" VRDEAuthLibrary="VBoxAuth" webServiceAuthLibrary="VBoxAuth" LogHistoryCount="3"/>
    <USBDeviceFilters/>
  </Global>
</VirtualBox>

```